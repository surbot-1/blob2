<!DOCTYPE html>

<html lang=”en”>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
</head>
  
<body>
  
<input type="file">
<textarea rows="10" cols="50"></textarea>
  
  <div id="div4"> </div>
  <div id="div5"> </div>
  <div id="div6"> </div>
  <div id="div7"> </div>
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  
<script>
    
  
   var input = document.querySelector('input[type=file]');
var textarea = document.querySelector('textarea');
  
input.addEventListener('change', changeFile); 
  
function readFile(event) {
    textarea.textContent = event.target.result ;
    console.log(event.target.result);
   // const blob = new Blob([new Uint8Array(event.target.result)], {type: file.type });
    // console.log(blob);
    textarea.textContent = blob ;
    // document.querySelector('#div4') = blob ;
  }
      
function changeFile() {
    //
    var blob;
    var file = input.files[0];
    var reader = new FileReader();
  //  reader.addEventListener('load', readFile);
    // reader.readAsText(file); 
    reader.readAsArrayBuffer(file);
   // reader.readAsDataURL(file);
    reader.onload = function(e) {
       blob = new Blob([new Uint8Array(e.target.result)], {type: file.type });
    console.log(blob);
   // const text = await blob.text();
    // textarea.textContent = text ;
   // document.querySelector('#div4') = text ;
    }
  const reader = new FileReader();
  reader.readAsDataURL(blob);
  reader.addEventListener('loadend', () => {
   // reader.result contains the contents of blob as a typed array
  textarea.textContent = reader.result ;
  });
  
    //
  /*  const file = document.querySelector('input[type=file]').files[0];
    const reader = new FileReader();
    reader.onload = function(e) {
    const blob = new Blob([new Uint8Array(e.target.result)], {type: file.type });
    console.log(blob);
    document.querySelector('#div4') = blob ;
    }
    reader.readAsArrayBuffer(file); */
    //
  /*  const file = document.querySelector('input[type=file]').files[0];
    file.arrayBuffer().then((arrayBuffer) => {
    const blob = new Blob([new Uint8Array(arrayBuffer)], {type: file.type });
    console.log(blob);
    document.querySelector('#div4') = blob ;
    }); */
    //
   /* const fileToBlob = async (file) => new Blob([new Uint8Array(await file.arrayBuffer())], {type: file.type });
    console.log(await fileToBlob(new File(['hello', ' ', 'world'], 'hello_world.txt', {type: 'text/plain'}))); */
  
}


  
  
/*  // Convert file to base64 string
export const fileToBase64 = (filename, filepath) => {
  return new Promise(resolve => {
    var file = new File([filename], filepath);
    var reader = new FileReader();
    // Read file content on file loaded event
    reader.onload = function(event) {
      resolve(event.target.result);
    }
    
    // Convert data to base64 
    reader.readAsDataURL(file);
  });
}
// Example call:
fileToBase64("test.pdf", "../files/test.pdf").then(result => {
  console.log(result);
}); */
    
  
/*  var url = URL.createObjectURL(blob);
  
  const reader = new FileReader();
  reader.readAsArrayBuffer(blob);
  reader.addEventListener('loadend', () => {
   // reader.result contains the contents of blob as a typed array
  });
  
  const text = await (new Response(blob)).text();
  
  const text = await blob.text();  */
  
  

 /* var buffer = new ArrayBuffer(16);
  var view1 = new DataView(buffer);
  var view2 = new Int8Array(buffer);
  view1.setInt32(0, 0x76543210);
  document.write(view1.getInt32(0).toString(16) + "<br>"); 
  document.write(view1.getInt8(0).toString(16) + "<br>"); 
  document.write(view2[0].toString(16)); */
  
  
    
</script>
  
</body>
</html>
